schema: '2.0'
stages:
  gunzip-datasets:
    cmd: python main.py gunzip-datasets
    deps:
    - path: data/raw
      md5: b6c29e96813679dd8c451c9b5ca86e2c.dir
      size: 11594722
      nfiles: 4
    - path: mnist/config.py
      md5: 4945c0bfe966808c239abe25084eab9c
      size: 1155
    - path: mnist/dataset.py
      md5: 4ab8870fe2080b4c8457bae02324d117
      size: 1656
    outs:
    - path: data/processed
      md5: d0193be11ab497254ec667a4864050d9.dir
      size: 54950048
      nfiles: 4
  train-model:
    cmd: python main.py train-model
    deps:
    - path: data/processed
      md5: d0193be11ab497254ec667a4864050d9.dir
      size: 54950048
      nfiles: 4
    - path: mnist/dataset.py
      md5: bb155f854758a771241b1e2bd74a5204
      size: 1832
    - path: mnist/train.py
      md5: 8261a43ddd610634b9953b2a1a690fa4
      size: 2131
    params:
      mnist/config.py:
        MnistConfig.batch_size: 64
        MnistConfig.learning_rate: 0.05
        MnistConfig.max_epochs: 2
        MnistConfig.random_seed: 12345
    outs:
    - path: data/features.pt
      md5: 7bfe2b4e05e37f7a4314205d6cf1b27b
      size: 80459
  gunzip-dataset:
    cmd: python main.py gunzip-dataset
    deps:
    - path: data/raw
      md5: b6c29e96813679dd8c451c9b5ca86e2c.dir
      size: 11594722
      nfiles: 4
    - path: mnist/dataset.py
      md5: bb155f854758a771241b1e2bd74a5204
      size: 1832
    outs:
    - path: data/processed
      md5: d0193be11ab497254ec667a4864050d9.dir
      size: 54950048
      nfiles: 4
